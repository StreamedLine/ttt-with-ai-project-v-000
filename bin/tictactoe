#!/usr/bin/env ruby

require_relative '../config/environment'

input = "go"

until input == "q" do
  puts "Hi there! would you like to play with 0, 1 or 2 player? type 0, 1 or 2 to begin."
  input = gets.chomp

  if input == "0" or input == ""
    player_1 = Players::Computer.new("X")
    player_2 = Players::Computer.new("O")
  elsif input == "1"
    puts "Would you like to be first (and 'X') ? y for 'yes'"
    players = gets.chomp.upcase
    if players == "Y"
      player_1 = Players::Human.new("X")
      player_2 = Players::Computer.new("O")
    else
      player_2 = Players::Human.new("O")
      player_1 = Players::Computer.new("X")
    end
  elsif input == 2
    player_1 = Players::Human.new("X")
    player_2 = Players::Human.new("O")
  else
    next
  end


  game = Game.new(player_1, player_2, Board.new) unless input == "q"
  game.play unless input == "q"
end
